<!DOCTYPE html>
<html>
<head>
  <title>PROJECT 404</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #000;
      color: #0f0;
      text-align: center;
      padding: 2rem;
    }
    .glitch {
      animation: glitch 1s infinite;
    }
    @keyframes glitch {
      0% { text-shadow: 0.05em 0 0 #00fffc, -0.05em -0.025em 0 #fc00ff; }
      50% { text-shadow: -0.05em -0.025em 0 #00fffc, 0.025em 0.025em 0 #fc00ff; }
      100% { text-shadow: 0.025em 0.05em 0 #00fffc, 0.05em 0 0 #fc00ff; }
    }
    #signup-form {
      margin: 2rem auto;
      max-width: 300px;
    }
    input, button {
      background: #111;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      font-family: 'Courier New', monospace;
    }
    button:hover {
      background: #0f0;
      color: #000;
      cursor: pointer;
    }
    .hp { display: none; } /* Honeypot */
  </style>
  <!-- reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js?render=YOUR_RECAPTCHA_SITE_KEY"></script>
</head>
<body>
  <h1 class="glitch">PROJECT 404</h1>
  <p>Join the underground. Unlock the launch.</p>

  <form id="signup-form">
    <!-- Honeypot Field -->
    <input type="text" name="honeypot" class="hp">

    <!-- Real Fields -->
    <input type="email" id="email" placeholder="your@email.com" required>
    <button type="submit" id="submit-btn">JOIN</button>

    <!-- Hidden reCAPTCHA Token -->
    <input type="hidden" id="recaptcha-token" name="recaptcha-token">
  </form>

  <script>
    // Configuration
    const PROXY_URL = "https://your-proxy-service.workers.dev"; // Cloudflare Worker proxy
    let lastSubmissionTime = 0;
    const SUBMISSION_DELAY = 5000; // 5 seconds between submissions

    document.getElementById("signup-form").addEventListener("submit", async (e) => {
      e.preventDefault();
      const submitBtn = document.getElementById("submit-btn");
      submitBtn.disabled = true;

      // Rate limiting (client-side)
      const now = Date.now();
      if (now - lastSubmissionTime < SUBMISSION_DELAY) {
        alert("Please wait before submitting again.");
        submitBtn.disabled = false;
        return;
      }

      // Honeypot check
      if (document.querySelector(".hp").value) {
        console.log("Bot detected via honeypot");
        return;
      }

      // Get reCAPTCHA token
      try {
        const token = await grecaptcha.execute('YOUR_RECAPTCHA_SITE_KEY', { action: 'submit' });
        document.getElementById("recaptcha-token").value = token;

        // Prepare data
        const formData = {
          email: document.getElementById("email").value,
          token: token,
          timestamp: new Date().toISOString()
        };

        // Submit via proxy
        const response = await fetch(PROXY_URL, {
          method: "POST",
          body: JSON.stringify(formData),
          headers: { "Content-Type": "application/json" }
        });

        if (response.ok) {
          alert("Access granted. You'll be notified.");
          document.getElementById("signup-form").reset();
          lastSubmissionTime = Date.now();
        } else {
          throw new Error("Submission failed");
        }
      } catch (error) {
        console.error("Error:", error);
        alert("Transmission failed. Try again later.");
      } finally {
        submitBtn.disabled = false;
      }
    });
  </script>
</body>
</html>